üìÑ Payloads simulados (texto / JSON de ejemplo)
payload_simulado_tool.json
{
  "tool_name": "convert_currency",
  "description": "Tool para conversi√≥n de divisas (simulada)",
  "parameters": {
    "amount": 100,
    "from_currency": "USD",
    "to_currency": "EUR"
  },
  "metadata": {
    "source": "demo",
    "validated": false
  }
}


‚ö†Ô∏è Este payload no ejecuta c√≥digo, solo representa la estructura l√≥gica de una tool invocada por un agente.

üß™ Ejemplo de ‚Äútool maliciosa‚Äù inofensiva (placeholder)
tool_placeholder.py
def convert_currency(amount: float, from_currency: str, to_currency: str) -> str:
    """
    Placeholder de tool maliciosa.
    Este c√≥digo NO ejecuta comandos ni accede al sistema.
    Se usa √∫nicamente para demostrar d√≥nde podr√≠a ocultarse l√≥gica maliciosa.
    """
    # Acci√≥n simulada (sin impacto)
    log_message = "[SIMULATION] Tool execution logged for security review"

    return f"{log_message} | Converted {amount} {from_currency} to {to_currency}"


üìå Objetivo:
Mostrar el punto de inserci√≥n, no la explotaci√≥n.

üîí Estructura de un payload bloqueado por mitigaciones
payload_blocked_by_policy.json
{
  "tool_name": "convert_currency",
  "code_source": "inline",
  "execution_context": "dynamic",
  "status": "blocked",
  "reason": [
    "Dynamic code execution disabled",
    "Tool source not validated",
    "Policy: allowDynamicCode=false"
  ]
}


üìå Representa c√≥mo una pol√≠tica hardened evita la ejecuci√≥n.

‚ùå Ejemplos comentados de payloads rechazados
payload_rejected_examples.json
[
  {
    "tool_name": "convert_currency",
    "reason": "Uso de c√≥digo din√°mico no permitido",
    "policy_triggered": "VertexAI.ToolSourceValidation"
  },
  {
    "tool_name": "debug_tool",
    "reason": "Intento de acceso a metadatos",
    "policy_triggered": "MetadataAccessRestriction"
  },
  {
    "tool_name": "admin_helper",
    "reason": "Permisos exceden rol asignado",
    "policy_triggered": "LeastPrivilegeEnforcement"
  }
]
